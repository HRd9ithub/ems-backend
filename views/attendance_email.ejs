<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="x-apple-disable-message-reformatting" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="color-scheme" content="light dark" />
  <meta name="supported-color-schemes" content="light dark" />
  <title>Attendance Report</title>
  <link href="https://fonts.googleapis.com/css2?family=Philosopher&display=swap" rel="stylesheet">
</head>

<body>
  <table width="100%" cellpadding="0" cellspacing="0" align="center"
    style="text-align: left;font-family: 'Philosopher', sans-serif;margin: 1.875rem auto;">
    <tr>
      <td width="100%" valign="top" bgcolor="#fff">
        <table width="600" cellpadding="0" cellspacing="0" align="center"
          style="padding:1rem 1.2rem; margin:0 auto; border: 1px solid lightgray;">
          <tr>
            <td style="text-align: center;">
              <img src="cid:fixedImage" style="height: 4rem;padding: .625rem 0;">
            </td>
          </tr>
          <tr>
            <td style="text-align: center;">
              <h2 style="margin-top: 0px">Attendance Records</h2>
            </td>
          </tr>

          <!-- Success message -->
          <tr>
            <td
              style="text-align: center; padding: 10px; background-color: #dff0d8; color: #3c763d; font-weight: 600; border: 1px solid #d6e9c6;">
              Attendance record added successfully!
            </td>
          </tr>

          <tr style="padding: 5px 0;">
            <td>
              <table width="100%" cellpadding="5" cellspacing="0" border="1"
                style="border-collapse: collapse; text-align: left; font-size: 0.9rem;">
                <thead>
                  <tr style="background: #084c89; color: #fff;">
                    <th style="padding: 8px;">Date</th>
                    <th style="padding: 8px;">Clock In</th>
                    <th style="padding: 8px;">Clock Out</th>
                  </tr>
                </thead>
                <tbody>
                  <% if (attendanceRecords.length> 0) { %>
                    <% attendanceRecords.forEach(record=> { %>
                      <tr>
                        <td style="padding: 8px;">
                          <%= record.timestamp %>
                        </td>
                        <td style="padding: 8px;">
                          <%= record.clock_in ? record.clock_in : "N/A" %>
                        </td>
                        <td style="padding: 8px;">
                          <%= record.clock_out ? record.clock_out : "N/A" %>
                        </td>
                      </tr>
                      <% }) %>
                        <% } else { %>
                          <tr>
                            <td colspan="3" style="text-align: center; padding: 10px; color: red;">
                              No attendance records found.
                            </td>
                          </tr>
                          <% } %>
                </tbody>
              </table>
            </td>
          </tr>

          <tr>
            <hr />
          </tr>
          <tr style="font-size: 1rem;padding-left: 1.25rem;font-weight: 600;">
            <td>
              <p style="text-align: center;color: #000000;font-size: .9375rem;font-weight: 500; margin: 0px">
                You have received this mandatory email service to review your attendance record.
              </p>
            </td>
          </tr>

        </table>
      </td>
    </tr>
  </table>
</body>

</html>